<!DOCTYPE html>
<html lang="es">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="description" content="edutim, coaching, aprendizaje a distancia, educación para mujeres, empoderamiento femenino, salud y bienestar, educación infantil, escuela de idiomas, aprendizaje en línea, formación en vivo, cursos en línea, formación remota, tema escolar html, universidad html, formación virtual para mujeres, liderazgo femenino, emprendimiento femenino">
    
    <meta name="author" content="themeturn.com">
  
    <title>Asociación Agenda de Mujeres San Rafael de Heredia</title>
  
    <!-- Mobile Specific Meta-->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- bootstrap.min css -->
    <link rel="stylesheet" href="assets/vendors/bootstrap/bootstrap.css">
    <!-- Iconfont Css -->
    <link rel="stylesheet" href="assets/vendors/fontawesome/css/all.css">
    <link rel="stylesheet" href="assets/vendors/bicon/css/bicon.min.css">
    <link rel="stylesheet" href="assets/vendors/themify/themify-icons.css">
    <!-- animate.css -->
    <link rel="stylesheet" href="assets/vendors/animate-css/animate.css">
    <!-- WooCOmmerce CSS -->
  
     <!-- Owl Carousel  CSS -->
    <link rel="stylesheet" href="assets/vendors/owl/assets/owl.carousel.min.css">
    <link rel="stylesheet" href="assets/vendors/owl/assets/owl.theme.default.min.css">
  
    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/responsive.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  
  <style>
    body { font-family: Arial, sans-serif; }
    .navbar-brand img { max-width: 80px; height: auto; }
    .course-block { border: 1px solid #ddd; padding: 20px; margin-bottom: 30px; }
    .pagination { justify-content: center; }
    .page-num a { padding: 10px 15px; border: 1px solid #ddd; }
    .modal-dialog { max-width: 90%; }
    
    .section-padding { padding: 60px 0; }
    .topbar-search { position: relative; }
    .topbar-search input { padding-right: 40px; }
    .topbar-search label { position: absolute; right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer; }
    
    @media (max-width: 768px) {
      .navbar-brand h4 { font-size: 1rem; display: block; margin-top: 5px; }
      .container { padding: 0 15px; }
      .modal-dialog { max-width: 100%; }
      .page-header { padding: 3rem 1rem; text-align: center; }
      .page-header h1 { font-size: 1.8rem; }
      .page-header p { font-size: 1rem; }
      .btn { font-size: 0.9rem; padding: 8px 15px; }
      #search-input { width: 100%; }
    }

    @media (max-width: 576px) {
      .navbar-brand img { max-width: 60px; }
      .modal-content { padding: 10px; }
      .modal-header h5 { font-size: 1.2rem; }
    }
  </style>
</head>
<body>

<header>
  <nav class="navbar navbar-light bg-light">
    <div class="container d-flex justify-content-between align-items-center">
      <a class="navbar-brand d-flex align-items-center" href="#">
        <img src="assets/images/logoAgendaMujeres.png" alt="Logo">
        <h4 class="ms-2 mb-0">Asociación Agenda de Mujeres</h4>
      </a>
    </div>
  </nav>
</header>

<section class="page-header text-center py-5 bg-primary text-white position-relative">
  <div class="container">
    <h1>Bienvenid@</h1>
    <p>Matricula de cursos y talleres</p>
    <a href="#courses-section" class="btn btn-light">Explora nuestros cursos</a>
  </div>
</section>


<section id="courses-section" class="section-padding course">
  <div class="course-top-wrap">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-8">
          <p id="results-count"></p>
        </div>
        <div class="col-lg-4">
          <div class="topbar-search">
            <form method="get" action="#">
              <input type="text" id="search-input" placeholder="Busca cursos o talleres" class="form-control">
              <label><i class="fa fa-search"></i></label>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="row" id="course-list">
      <!-- Los cursos se cargarán aquí dinámicamente -->
    </div>

    <div class="row">
      <div class="col-lg-12">
        <nav class="blog-pagination text-center">
          <ul class="pagination" id="pagination">
            <!-- Paginación generada dinámicamente -->
          </ul>
        </nav>
      </div>
    </div>
  </div>
</section>

<div class="modal fade" id="crearMatriculaModal" tabindex="-1" role="dialog" aria-labelledby="crearMatriculaModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered" role="document"> <!-- Modal más ancho y centrado -->
      <div class="modal-content">
          <div class="modal-header">
              <h5 class="modal-title" id="crearMatriculaModalLabel">Crear Matrícula</h5>
              <button type="button" class="close" onclick="closeModal('crearMatriculaModal')" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
              </button>
          </div>
          <div class="modal-body">
              <form id="crearMatriculaForm">
                  <div class="form-group">
                      <label for="idCursoMatricular">ID del Curso</label>
                      <input type="text" class="form-control" id="idCursoMatricular" name="idCursoMatricular" required readonly>
                  </div>
                  
                  <div class="form-group">
                      <label for="horarioSelect">Selecciona el Horario</label>
                      <select id="horarioSelect" name="horario" class="form-control" required>
                          <option value="" disabled selected>Selecciona un horario...</option> <!-- Opción por defecto -->
                      </select>
                  </div>
                  
                  <div class="form-group">
                      <label for="nombreEstudiante">Nombre del Estudiante</label>
                      <input type="text" class="form-control" id="nombreEstudiante" name="nombreEstudiante" required>
                  </div>
                  <div class="form-group">
                      <label for="cedulaEstudiante">Cédula</label>
                      <input type="text" class="form-control" id="cedulaEstudiante" name="cedulaEstudiante" required>
                  </div>
                 <div class="form-group">
                      <label for="telefonoEstudiante">Teléfono</label>
                      <input type="text" class="form-control" id="telefonoEstudiante" name="telefonoEstudiante" required 
                             value="506" 
                             oninput="formatPhone(this)" onkeydown="preventPrefixDeletion(event)">
                  </div>
                  <div class="form-group">
                      <label for="correoEstudiante">Correo Electrónico</label>
                      <input type="email" class="form-control" id="correoEstudiante" name="correoEstudiante" required>
                  </div>

                  <!-- Método de Pago -->
                  <div class="form-group">
                      <label for="metodoPago">Método de Pago (Pago en tractos)</label><br>
                      
                      <div class="form-check">
                          <input class="form-check-input" type="radio" name="metodoPago" id="transferencia" value="Transferencia Bancaria" onclick="toggleComprobante()">
                          <label class="form-check-label" for="transferencia">
                              Transferencia Bancaria
                          </label>
                      </div>
                      <div class="form-check">
                          <input class="form-check-input" type="radio" name="metodoPago" id="sinpe" value="SINPE Móvil" onclick="toggleComprobante()">
                          <label class="form-check-label" for="sinpe">
                              SINPE Móvil
                          </label>
                      </div>
                  </div>

                  <!-- Campo para el número de comprobante o transacción (oculto inicialmente) -->
                  <div class="form-group" id="comprobanteContainer" style="display: none;">
                      <label for="numeroComprobante">Número de Comprobante/Transacción</label>
                      <input type="text" class="form-control" id="numeroComprobante" name="numeroComprobante" required>
                  </div>

                  <!-- Campo para subir archivo (obligatorio) -->
                  <div class="form-group">
                      <label for="comprobanteArchivo">Subir Comprobante (archivo obligatorio)</label>
                      <input type="file" class="form-control-file" id="comprobanteArchivo" name="comprobanteArchivo" required>
                  </div>

              </form>
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-secondary" onclick="closeModal('crearMatriculaModal')">Cerrar</button>
              <button type="button" class="btn btn-primary" onclick="validarFormulario()">Crear Matrícula</button>
          </div>
      </div>
  </div>
</div>

<script>
  function formatPhone(input) {
      const prefix = "506";
      if (!input.value.startsWith(prefix)) {
          input.value = prefix;
      }

      // Permitir solo números y limitar a 8 dígitos después del prefijo
      input.value = prefix + input.value.slice(prefix.length).replace(/[^0-9]/g, '').slice(0, 8);

      // Mover el cursor al final del campo
      setTimeout(() => {
          input.selectionStart = input.selectionEnd = input.value.length;
      }, 0);
  }

  function preventPrefixDeletion(event) {
      const input = event.target;
      const prefix = "506";

      // Impedir eliminación de cualquier carácter del prefijo
      if (input.selectionStart < prefix.length && (event.key === "Backspace" || event.key === "Delete")) {
          event.preventDefault();
      }
  }

  function toggleComprobante() {
      var metodoPago = document.querySelector('input[name="metodoPago"]:checked');
      if (metodoPago && (metodoPago.value === "Transferencia Bancaria" || metodoPago.value === "SINPE Móvil")) {
          document.getElementById('comprobanteContainer').style.display = 'block';
      } else {
          document.getElementById('comprobanteContainer').style.display = 'none';
      }
  }

  function validarFormulario() {
        const archivo = document.getElementById('comprobanteArchivo').files.length;
        if (archivo === 0) {
            Swal.fire({
                icon: 'error',
                title: 'Error',
                text: 'Debe seleccionar un archivo para completar la matrícula.',
                confirmButtonText: 'Aceptar'
            });
            return; // No hacer nada, el formulario no se enviará
        }
        // Si todo está bien, llamar a la función de creación de matrícula
        crearMatricula();
    }
</script>




  
    <!-- Main jQuery -->
    <script src="assets/vendors/jquery/jquery.js"></script>
    <!-- Bootstrap 4.5 -->
    <script src="assets/vendors/bootstrap/bootstrap.js"></script>
    <!-- Counterup -->
    <script src="assets/vendors/counterup/waypoint.js"></script>
    <script src="assets/vendors/counterup/jquery.counterup.min.js"></script>
    <script src="assets/vendors/jquery.isotope.js"></script>
    <script src="assets/vendors/imagesloaded.js"></script>
    <!--  Owlk Carousel-->
    <script src="assets/vendors/owl/owl.carousel.min.js"></script>
    <script src="assets/js/script.js"></script>
    <script src="assets/js/scripts/listarCursosUsuario.js"></script>
    <script src="assets/js/scripts/crearMatricula.js"></script>
    <script>
        function toggleComprobante() {
            const metodoPago = document.querySelector('input[name="metodoPago"]:checked').value;
            const comprobanteContainer = document.getElementById('comprobanteContainer');
            const numeroComprobante = document.getElementById('numeroComprobante');
    
            // Mostrar u ocultar el campo de comprobante basado en el método de pago seleccionado
            if (metodoPago === 'Transferencia Bancaria' || metodoPago === 'SINPE Móvil') {
                comprobanteContainer.style.display = 'block';
                numeroComprobante.setAttribute('required', 'true');
            } else {
                comprobanteContainer.style.display = 'none';
                numeroComprobante.removeAttribute('required');
                numeroComprobante.value = '';
            }
        }
    </script>
</body>
</html>
